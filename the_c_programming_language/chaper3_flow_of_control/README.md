# 第三章 控制流
## 3.1 语句与程序块
在表达式后面加上`;`就变成 **语句**,分号是语句的结束符.

用花括号`{}`把一组声明和语句括在一起构成一个 **复合语句**,复合语句在语法上等效于单条语句

## 3.2 if-else 语句
else与最近的没有else的if配对

## 3.3 else-if 语句
编写多路判定的常用方法,表达式将被依次求值,一旦某个表达式结果为真,执行与之相关的语句,并终止整个语句的执行.

## 3.4 switch 语句
是一种多路判定语句
```cpp
switch (表达式) {
  case 常量表达式: 语句序列
  case 常量表达式: 语句序列
  default: 语句序列
}
```
每一个分支由一个或多个整数值常量或者常量表达式标记,若某个分支与表达式的值相配,则从该分支执行,各分支与default的排列是任意的.

作为一个良好的设计风格,语句分支最后一个语句(default)也加上一个`break`,降低错误的可能性

## 3.5 while循环与for循环
```cpp
表达式1;
while (表达式2) {
  语句;
  表达式3;
}
```
等效于
```cpp
for (表达式1; 表达式2; 表达式3) {
  语句
}
```
最常见的情况是,`表达式1`与`表达式3`是赋值表达式或者函数调用,`表达式2`是关系表达式,如果在for循环中省略`表达式1`,`表达式3`,它就退化成了for.

牵强的把无关计算放到变量初始化和变量递增部分是不好的程序设计风格,该部分放到控制运算更合适.

把循环控制部分集中在一起,优势更为明显,如希尔排序包含三重for循环.

希尔排序具体步骤
1. 设定一个较大间隔gap，对所有间隔为gap的数据通过插入排序法进行排序；
2. 执行完之后根据某种逻辑缩小gap（代码中采用除以3取整的办法），重复上述过程，直到gap = 0。

 [shell_sort.cpp](./shell_sort.cpp)

 [动画演示](https://algorithm-visualizer.org/brute-force/shellsort)

逗号运算符(',')是C语言优先级最低的运算符,被','分隔的一对表达式按照从左向右顺序求值,各表达式右边的操作数的类型和值即为结果的类型和值.

应该慎用`,`运算符.`,`最适用于关系紧密的结构中如for语句;对于单个表达式中进行的多步计算的宏也很适合.
```cpp
c = s[i], s[i] = s[j], s[j] = c;
```
这样元素的交换过程可以看作单步操作.

## 3.6 do-while 循环

```
do {
  /* code */
} while(/* condition */);

```

循环体至少被执行一次

- [int_to_char.cpp](./int_to_char.cpp)

这里有必要使用do-while,即使n为0也要保存一个字符到字符串中

## 3.7 break continue
break 能从内层循环中立刻跳出
- [delete_null.cpp](./delete_null.cpp)
continue用于for,while,do-while语句开始下一次循环的执行.
在while和do-while中continue意味着立刻执行测试部分;
for循环中,意味着使控制转移到递增循环变量的部分.

continue只用于循环语句

```cpp
for (i = 0; i < n; i++) {
  if (a[i] < 0)//  跳过负数元素
    continue;
  // 处理正元素
}
```
当循环后面部分比较复杂时,常常会用到continue语句.这种情况下,如果不使用continue,则可能需要把测试颠倒过来或者缩进另一层循环,这样会使程序嵌套更深.

## 3.8 goto语句与标号
```c
for (...) {
  for (...) {
    if (disaster) {
      goto error
    }
  }
}

error:
  处理错误情况
```
在这个例子中,如果错误处理代码很重要,并且错误代码可能出现在多个地方,使用goto将比较方便.

大多数情况下,使用goto语句的程序要难以维护,尽量少用
